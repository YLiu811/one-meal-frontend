{"ast":null,"code":"var _jsxFileName = \"/Users/yliu88/Developer/projects/Capstone/One-Meal-Front-End/front-end-one-meal-capstone/one-meal-app/src/pages/Searched.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\n// import { Link } from 'react-router-dom';\n// import axios from 'axios';\nimport { useState, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Favorite from '../Components/Favorite';\n// import FavoritesList from './FavoritesList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Searched() {\n  _s();\n  console.log(\"searched page is called\");\n  const [searchedFood, setSearchedFood] = useState([]);\n  const params = useParams();\n\n  // const [title,setTitle] = useState('')\n  // const [image,setImage] = useState('')\n  // const [id,setId] = useState('')\n\n  const getResult = async keyword => {\n    // const checkSearched = localStorage.getItem('searched');\n    // if (checkSearched) {\n    //     setSearchedFood(JSON.parse(checkSearched));\n    // } else {\n    const api = await fetch(`https://api.spoonacular.com/recipes/complexSearch?apiKey=e7fc2ae2a7dc4c49b9aaf782c9334864&query=${keyword}&number=20`);\n    const res = await api.json();\n    setSearchedFood(res.results);\n    console.log(`res.results: ${res.results}`);\n  };\n  // };\n  useEffect(() => {\n    getResult(params.input);\n  }, [params.input]);\n\n  // console.log(searchedFood);\n  // localStorage.setItem('searched', JSON.stringify(searchedFood))\n\n  console.log(searchedFood);\n  localStorage.setItem('searched', JSON.stringify(searchedFood));\n  // add favorit recipe into DB\n  // const addRecipe = async(i)=>{\n  //     let userId = localStorage.getItem('userId')\n  //     console.log(i)\n  //     setId(i.id)\n  //     setTitle(i.title)\n  //     setImage(i.image)\n\n  //     await axios.post(`${process.env.REACT_APP_BACKEND_URL}/favorites`,{id:i.id,title:i.title,image:i.image,userId})\n  //     .then((response)=>{\n  //         console.log(response)\n  //         alert('You Add One recipe') \n  //     }).catch((e)=>{\n  //         console.log(e)\n  //     })\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: \"Recommended Recipes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searched\",\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        children: searchedFood.map(recipe => {\n          return /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"overlay\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: recipe.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Favorite, {\n                  recipe: recipe,\n                  searchedFood: searchedFood\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: `/recipe/${recipe.id}`,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: recipe.image,\n                alt: recipe.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this)]\n          }, recipe.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_s(Searched, \"HKnrhoL1dxweMtiAwiTVtQgV9No=\", false, function () {\n  return [useParams];\n});\n_c = Searched;\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(10rem, 0.65fr));\n    grid-gap: 3rem;\n    margin-left: 0;\n    padding-left: 0;\n`;\n_c2 = Grid;\nconst Title = styled.h2`\n    display: inline-block;\n`;\n_c3 = Title;\nconst Card = styled.div`\n    position: relative;\n    img {\n        width: 100%;\n        border-radius: 1.6rem;\n        padding: 0;\n    }\n    a {\n        text-decoration: none;\n    }\n    h4 {\n        postion: inline-block;\n        font-size: 1.1em;\n        line-height: 1.2em;\n        text-align: center;\n        vertical-align: middle;\n        padding: 1.2rem 0 0;\n        margin: 0;\n    }\n    container = {\n        position: relative;\n        transition: transform 0.2s;\n        &:hover{\n            cursor: pointer;\n            transform: scale(1.1);\n    }\n    container:hover .overlay{\n        opacity: 1;\n    }\n    overlay = {\n        align-items: center;\n        justify-content: center;\n        position: absolute;\n        background: #FF8474;\n        width: 100%;\n        transition: 0.5s ease;\n        opacity: 0;\n        bottom: 0;\n        font-size: 1.2rem;\n        padding: 0.5;\n        text-align: center;\n    }\n`;\n_c4 = Card;\nexport default Searched;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Searched\");\n$RefreshReg$(_c2, \"Grid\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Card\");","map":{"version":3,"names":["React","useState","useEffect","useParams","styled","Favorite","Searched","console","log","searchedFood","setSearchedFood","params","getResult","keyword","api","fetch","res","json","results","input","localStorage","setItem","JSON","stringify","map","recipe","title","id","image","Grid","div","Title","h2","Card"],"sources":["/Users/yliu88/Developer/projects/Capstone/One-Meal-Front-End/front-end-one-meal-capstone/one-meal-app/src/pages/Searched.jsx"],"sourcesContent":["import React from 'react'\n// import { Link } from 'react-router-dom';\n// import axios from 'axios';\nimport { useState, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Favorite from '../Components/Favorite';\n// import FavoritesList from './FavoritesList';\n\nfunction Searched() {\n    console.log(\"searched page is called\")\n    const [searchedFood, setSearchedFood] = useState([]);\n    const params = useParams();\n\n    // const [title,setTitle] = useState('')\n    // const [image,setImage] = useState('')\n    // const [id,setId] = useState('')\n\n\n    const getResult = async (keyword) => {\n        // const checkSearched = localStorage.getItem('searched');\n        // if (checkSearched) {\n        //     setSearchedFood(JSON.parse(checkSearched));\n        // } else {\n        const api = await fetch(`https://api.spoonacular.com/recipes/complexSearch?apiKey=e7fc2ae2a7dc4c49b9aaf782c9334864&query=${keyword}&number=20`)\n        const res = await api.json();\n        setSearchedFood(res.results);\n        console.log(`res.results: ${res.results}`);\n    };\n// };\n    useEffect(() => {\n        getResult(params.input);\n    }, [params.input]);\n\n    // console.log(searchedFood);\n    // localStorage.setItem('searched', JSON.stringify(searchedFood))\n\n    console.log(searchedFood);\n    localStorage.setItem('searched', JSON.stringify(searchedFood))\n    // add favorit recipe into DB\n    // const addRecipe = async(i)=>{\n    //     let userId = localStorage.getItem('userId')\n    //     console.log(i)\n    //     setId(i.id)\n    //     setTitle(i.title)\n    //     setImage(i.image)\n        \n    //     await axios.post(`${process.env.REACT_APP_BACKEND_URL}/favorites`,{id:i.id,title:i.title,image:i.image,userId})\n    //     .then((response)=>{\n    //         console.log(response)\n    //         alert('You Add One recipe') \n    //     }).catch((e)=>{\n    //         console.log(e)\n    //     })\n    // }\n    \n    return (\n        <div>\n            <Title>Recommended Recipes</Title>\n            <div className='searched'>\n                <Grid>\n                {searchedFood.map((recipe) => {\n                    return(\n                        <Card key={recipe.id}>\n                            <div className='container'>\n                                <div className='overlay'>\n                                    <h4>{recipe.title}</h4>\n                                    <Favorite recipe={recipe} searchedFood={searchedFood}/>\n                                </div>\n                            </div>\n                            <a href={`/recipe/${recipe.id}`}>\n                                <img src={recipe.image} alt={recipe.title} />\n                            </a>\n                        </Card>\n                    )\n                })}\n                </Grid>\n            </div>\n        </div>\n    )\n}\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(10rem, 0.65fr));\n    grid-gap: 3rem;\n    margin-left: 0;\n    padding-left: 0;\n`;\nconst Title = styled.h2`\n    display: inline-block;\n`\nconst Card = styled.div`\n    position: relative;\n    img {\n        width: 100%;\n        border-radius: 1.6rem;\n        padding: 0;\n    }\n    a {\n        text-decoration: none;\n    }\n    h4 {\n        postion: inline-block;\n        font-size: 1.1em;\n        line-height: 1.2em;\n        text-align: center;\n        vertical-align: middle;\n        padding: 1.2rem 0 0;\n        margin: 0;\n    }\n    container = {\n        position: relative;\n        transition: transform 0.2s;\n        &:hover{\n            cursor: pointer;\n            transform: scale(1.1);\n    }\n    container:hover .overlay{\n        opacity: 1;\n    }\n    overlay = {\n        align-items: center;\n        justify-content: center;\n        position: absolute;\n        background: #FF8474;\n        width: 100%;\n        transition: 0.5s ease;\n        opacity: 0;\n        bottom: 0;\n        font-size: 1.2rem;\n        padding: 0.5;\n        text-align: center;\n    }\n`;\n\nexport default Searched;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"/Users/yliu88/Developer/projects/Capstone/One-Meal-Front-End/front-end-one-meal-capstone/one-meal-app/src/Components/UserPage.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport '../Components/UserPage.css';\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Login from '../pages/Login';\nimport Signup from \"../pages/Signup\";\nimport NavBar from \"./NavBar\";\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport Home from \"../pages/Home\";\nimport Pages from \"../pages/Pages\";\nimport Searched from \"../pages/Searched\";\nimport Recipe from \"../pages/Recipe\";\n// import Favorite from './Favorite';\nimport FavoritesList from '../pages/FavoritesList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserPage() {\n  _s();\n  console.log(process.env.REACT_APP_API_KEY);\n  const [user, setUser] = useState({});\n  const fetchUser = () => {\n    const userId = localStorage.getItem(\"userId\");\n    if (userId) {\n      axios.get(`${process.env.REACT_APP_BACKEND_URL}/user/${userId}`, {\n        headers: {\n          Authorization: userId\n        }\n      }).then(response => {\n        console.log(response);\n        setUser(response.data.user);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  };\n  useEffect(fetchUser, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [localStorage.getItem(\"userId\") ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Hi \", user.email]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 42\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Hi please join us\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 69\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {\n        className: \"nav\",\n        userProp: user,\n        setUser: setUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/home\",\n          element: /*#__PURE__*/_jsxDEV(Home, {\n            userProp: user,\n            setUser: setUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 24\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/pages\",\n          element: /*#__PURE__*/_jsxDEV(Pages, {\n            userProp: user,\n            setUser: setUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 24\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/favoritesList\",\n          element: /*#__PURE__*/_jsxDEV(FavoritesList, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/searched/:input\",\n          element: /*#__PURE__*/_jsxDEV(Searched, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/recipe/:id\",\n          element: /*#__PURE__*/_jsxDEV(Recipe, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 49\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          element: user.user_id ? /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(Signup, {\n            userProp: user,\n            setUser: setUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: user.user_id ? /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(Login, {\n            userProp: user,\n            setUser: setUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(UserPage, \"l0nCqodPWuiGgcnCHidP90F0Gls=\");\n_c = UserPage;\nexport default UserPage;\nvar _c;\n$RefreshReg$(_c, \"UserPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","Login","Signup","NavBar","Routes","Route","Navigate","Home","Pages","Searched","Recipe","FavoritesList","UserPage","console","log","process","env","REACT_APP_API_KEY","user","setUser","fetchUser","userId","localStorage","getItem","get","REACT_APP_BACKEND_URL","headers","Authorization","then","response","data","catch","error","email","user_id"],"sources":["/Users/yliu88/Developer/projects/Capstone/One-Meal-Front-End/front-end-one-meal-capstone/one-meal-app/src/Components/UserPage.jsx"],"sourcesContent":["import React from 'react'\nimport '../Components/UserPage.css';\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Login from '../pages/Login';\nimport Signup from \"../pages/Signup\";\nimport NavBar from \"./NavBar\";\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport Home from \"../pages/Home\";\nimport Pages from \"../pages/Pages\";\nimport Searched from \"../pages/Searched\";\nimport Recipe from \"../pages/Recipe\";\n// import Favorite from './Favorite';\nimport FavoritesList from '../pages/FavoritesList';\n\nfunction UserPage() {\n  console.log(process.env.REACT_APP_API_KEY)\n  const [user, setUser] = useState({});\n  \n  const fetchUser = () => {\n    const userId = localStorage.getItem(\"userId\");\n    if (userId) {\n      axios\n        .get(`${process.env.REACT_APP_BACKEND_URL}/user/${userId}`,{headers:{\n          Authorization:userId\n        }})\n        .then((response) => {\n          console.log(response);\n          setUser(response.data.user)\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  };\n  useEffect(fetchUser,[]);\n  \n  return (\n    <div>\n      {localStorage.getItem(\"userId\") ? (<h1>Hi {user.email}</h1>):(<h1>Hi please join us</h1>)}\n        <div>\n          <NavBar className='nav' userProp={user} setUser={setUser} />\n          <Routes>\n            {/* <Route path=\"*\" element={<Login userProp={user} setUser={setUser} />} /> */}\n            <Route\n              path=\"/home\"\n              element={<Home userProp={user} setUser={setUser} />}\n            />\n            <Route\n              path=\"/pages\"\n              element={<Pages userProp={user} setUser={setUser} />}\n            />\n            <Route path='/favoritesList'element={<FavoritesList/>}/>\n            <Route path=\"/searched/:input\" element={<Searched />} />\n            <Route path =\"/recipe/:id\" element={<Recipe />} />\n            <Route\n              path=\"/signup\"\n              element={\n                user.user_id ? (\n                  <Navigate to=\"/home\" />\n                ) : (\n                  <Signup userProp={user} setUser={setUser} />\n                )\n              }\n            />\n            <Route\n              path=\"/login\"\n              element={\n                user.user_id ? (\n                  <Navigate to=\"/home\" />\n                ) : (\n                  <Login userProp={user} setUser={setUser} />\n                )\n              }\n            />\n          </Routes>\n          {/* <Home /> */}\n      </div>\n    </div>\n  );\n}\n\nexport default UserPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}